# 医疗咨询RAG示例

这个示例展示了如何使用基础工具库构建一个医疗咨询系统，包括问题分类、多轮对话、文档检索和在线搜索等功能。

## 功能特点

1. 问题处理
   - 问题合法性验证
   - 医疗/非医疗问题分类
   - 问题扩写和子问题生成

2. 智能回应
   - 鼓励用户分享更多信息
   - 询问具体细节
   - 确认用户问题
   - 提供专业回答

3. 上下文管理
   - 短期记忆（最近对话）
   - 长期记忆（历史查询）
   - 文档检索结果
   - 在线搜索结果

4. 工作流程
   - 问题验证和分类
   - 上下文扩充
   - 回应类型选择
   - 专业答案生成

## 运行方法

1. 确保已安装所需依赖：
```bash
pip install -r requirements.txt
```

2. 运行示例程序：
```bash
python examples/rag/medical_consultation.py
```

3. 开始对话：
   - 输入医疗相关问题
   - 查看系统回应
   - 继续多轮对话
   - 输入'q'退出

## 示例对话

用户：「最近总是感觉头疼」
助手：「感谢您的咨询。为了更好地帮助您，能否详细描述一下您的具体症状？」

用户：「头疼主要在太阳穴位置，早上起床后特别明显」
助手：「您提到的情况我了解了。请问：
1. 这种情况持续多久了？
2. 有没有其他不适？」

用户：「大概持续一周了，同时伴有轻微的恶心」
助手：「让我确认一下，您是说"太阳穴位置疼痛，早晨明显，持续一周，伴有轻微恶心"，对吗？」

## 注意事项

1. 这是一个示例实现，主要用于演示医疗咨询系统的基本工作流程
2. 示例中的回答仅作演示用途，不构成实际医疗建议
3. 实际应用中需要：
   - 接入真实的医疗知识库
   - 使用专业的医疗语言模型
   - 添加更多安全性验证
   - 实现更复杂的对话管理

## 扩展建议

1. 集成专业医疗知识图谱
2. 添加意图识别功能
3. 实现更细致的症状分类
4. 添加用户画像管理
5. 集成医疗专业术语解释
6. 添加多模态输入支持（图片、语音等）
7. 实现诊疗记录导出功能 